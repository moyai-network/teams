package user

import (
	"math"
	"strings"
)

func compass(direction float64) string {
	direction = math.Mod(direction+360, 360)
	direction = direction * 2/10

	compass := []string{
		"§4S §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4S", "W §r",
		"| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4W §r", "| ", "| ", "| ", "| ",
		"| ", "| ", "| ", "| ", "§4N", "W §r", "| ", "| ", "| ", "| ", "| ", "| ",
		"| ", "§4N §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4N", "E §r", "| ",
		"| ", "| ", "| ", "| ", "| ", "| ", "§4E §r", "| ", "| ", "| ", "| ", "| ",
		"| ", "| ", "§4S", "E §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4S §r",
		"| ", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4S", "W §r", "| ", "| ",
		"| ", "| ", "| ", "| ", "| ", "§4W §r", "| ", "| ", "| ", "| ", "| ", "| ",
		"| ", "| ", "§4N", "W §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4N §r",
		"| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4N", "E §r", "| ", "| ", "| ", "| ",
		"| ", "| ", "| ", "§4E §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4S",
		"E §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4S §r", "| ", "| ", "| ",
		"| ", "| ", "| ", "| ", "| ", "§4S", "W §r", "| ", "| ", "| ", "| ", "| ", "| ",
		"| ", "§4W §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4N", "W §r", "| ",
		"| ", "| ", "| ", "| ", "| ", "| ", "§4N §r", "| ", "| ", "| ", "| ", "| ", "| ",
		"| ", "§4N", "E §r", "| ", "| ", "| ", "| ", "| ", "| ", "| ", "§4E §r", "| ",
		"| ", "| ", "| ", "| ", "| ", "| ", "§4S", "E §r", "| ", "| ", "| ", "| ", "| ", "| ",
	}
	direction += 72

	start := int(int(direction) - int(math.Floor(float64(25)/2)))
	
	if start < 0 {
		start = 0
	}
	
	end := start + 25
	if end > len(compass) {
		end = len(compass)
	}

	slice := compass[start:end]
	return strings.Join(slice, "")
}